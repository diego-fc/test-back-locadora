// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Pessoa {
  id     Int    @id @default(autoincrement())
  nome   String
  email  String @unique
  acesso String

  locacoes Locacao[]
}

model Filme {
  id                   Int    @id @default(autoincrement())
  titulo               String
  anoLancamento        Int
  imagem               String
  sinopse              String
  elenco               String
  categoria            String
  valorLocacao         Float
  quantidadeDisponivel Int

  locacoes Locacao[]
}

model Locacao {
  id                  Int      @id @default(autoincrement())
  locadorId           Int
  filmeId             Int
  dataRetirada        DateTime
  dataDevolucao       DateTime
  horaLimiteDevolucao DateTime
  valorMultaAtraso    Float
  valorTotal          Float
  situacao            String

  locador Pessoa @relation(fields: [locadorId], references: [id])
  filme   Filme  @relation(fields: [filmeId], references: [id])
}
